# Python tip Module

Wraps three primary functions of the _tip_ project:

* parse (ch10 files)
* translate (1553 data recorded in Parquet files, output translated data in Parquet files)
* extract video (from TS data in Parquet to TS video files)

More information about the underlying libraries that are wrapped in the project can be found
in the README in the _tip_ project.

## Build

If the wheel has previously been built, remove the old wrap build artifacts before rebuilding the wheel.  To do this, delete the `build`, `dist`, and `tip.egg-info` directories.  Also unistall the old wheel: `pip uninstall tip`

Use python's native setuptools to build a wheel

`python setup.py bdist_wheel`

The output wheel will be placed in `dist` directory. The extension to python requires
the knowledge of the relative path within the source tree, therefore the build system
will not function properly if this project is moved from its current location.

## Install
Use pip to install and uninstall the wheel. You must use the same version of python
mentioned in the name of the wheel and the same OS and processor architecture.

`pip install <wheel name>`

`pip uninstall <wheel name>`

## Usage
View _tip.py_ to learn about the function signature relative to the three primary
functions mentioned in the header. 

```
python
>>> from tip import TIP
>>>
>>> # Argument to TIP is path to configuration file directory,
>>> # normally found at <tip repo root>/conf
>>> t = TIP(<path to conf dir>)
>>>
>>> # Parse with two args: first is path to ch10 file, second is
>>> # path to output directory or None, in which case output files 
>>> # will be written to the same directory as the input ch10 file.
>>> result = t.parse(<path to ch10 file>, None)
(...)
>>> # result is a list with [return value, process duration [sec]], 
>>> # 0 if succeeded and 1 if failed.
>>> result
[0, 17.3832276]
>>>
>>> # Translate with two args: first is the path to the *_1553.parquet 
>>> # directory generated by the parse function and the second is the 
>>> # path to DTS1553 (also known as ICD) in txt or yaml format.
>>> result = t.translate(<path to *-1553.parquet dir>, <path to dts1553 file>)
(...)
>>> result
[0, 24.5727281]
>>>
>>> # Extract video by passing the path to *_video.parquet dir generated
>>> # from the parse step.
>>> result = t.extract_video(<path to video dir>)
(...)
>>> result
[0, 51.0]

```